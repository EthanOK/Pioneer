
>- 原文链接：https://www.galaxy.com/insights/research/exploring-bitcoin-for-data-availability/
>- 译者：[AI翻译官](https://learnblockchain.cn/people/19584)，校对：[翻译小组](https://learnblockchain.cn/people/412)
>- 本文永久链接：[learnblockchain.cn/article…](https://learnblockchain.cn/article/9013)
    
research • 2024 年 8 月 2 日

![Exploring Bitcoin for Data Availability - Galaxy Research](https://img.learnblockchain.cn/attachments/migrate/1723450805974)

## 介绍

比特币的区块空间极其稀缺，每个区块的大小限制为 4MB。这种稀缺性对寻求利用比特币作为数据可用性层的 Rollup 构成了重大挑战。基于比特币构建的 Rollup 主要是基于 ZK 的，旨在每 6-8 个区块发布 ZK-Proof 输出和状态差异，从而锚定到比特币高度安全的Layer1区块链。然而，这种方法面临一个关键障碍：每个单独的数据发布交易最多可以消耗 400KB（0.4MB）的区块空间，有效地占用了整个区块的 10%。虽然标准比特币交易的最大交易大小为 400KB，但在同一个区块中有多个数据发布交易的情况下，单个 Rollup 的理论数据发布限制为 4MB，这将消耗整个比特币区块。

自 2023 年 1 月以来，比特币的区块一直处于满载状态，随着像 Rollup 这样的新区块空间买家的引入，区块包含的竞争将加剧，可能会将比特币交易费用推向新的高度，使某些用户——特别是 Rollup——难以负担交易费用。对世界上最古老的区块链空间的竞争可能会创造一个环境，使 L2 难以负担数据发布费用，考验它们保持比特币对齐的能力。为了保持可行性，比特币上的 Rollup 需要通过其自身网络上的交易费用产生可观的收入，驱动大量用户支付在 Layer2 上进行交易的费用。本报告通过分析以太坊 ZK-Rollup 的数据并预测选择使用比特币作为数据可用性的 Rollup 的成本，分析了比特币上 Rollup 的经济可行性。分析探讨了这些项目在主网上线后对比特币区块组成的潜在影响，并讨论了如果发布数据到比特币变得过于昂贵，Rollup 可能采用的替代策略。

## 比特币 L1 是数据可用性层吗？

在比特币上发布数据到基础层的 Rollup 将面临一个重大问题：发布数据的成本。比特币的区块空间是任何链中每字节最昂贵的。此外，比特币的区块大小严格限制在 4MB，费用与交易的数据权重挂钩，使任何数据密集型交易的执行成本昂贵。Ordinal 的出现，铭文附加到单个聪上，突显了占用大量区块大小的交易成本高昂，并推动了整个网络的交易费用。例如，由 Taproot Wizards 团队铭刻的第一个 4MB 比特币交易（区块 774,628）花费了$147k 的费用。

根据与几个在比特币上构建 ZK-Rollup 的团队的对话，我们预计 ZK-Rollup 将每 6-8 个区块（1 小时-1.2 小时）以铭文的形式发布证明输出和状态差异，即存储在交易见证中的任意数据。这些数据将使任何运行比特币节点的参与者能够重建 Rollup 的最新状态。根据测试网和与开发者的对话，我们估计这些证明输出和状态差异的组合每 6 个区块需要约 400KB 的区块空间。

当将比特币每秒处理的兆字节数与以太坊和 Celestia 进行比较时，很明显，比特币从未设计为 DA 层。

  ![BTC DA - Tx throughput Mb per second](https://img.learnblockchain.cn/attachments/migrate/1723450806193)

## 验证证明的成本——以太坊 ZK-Rollup

下面是一个显示以太坊上 ZK-Rollup 每周数据发布成本的图表。ZK-Rollup 通过 L2 交易费用产生的收入来支付其数据发布费用。自推出以来，ZK-Sync Era 展示了这种模式的可行性，从 L2 交易费用中总共产生了$66.9m 的收入。其中，$51.2m 用于 ZK 验证和 L1 调用数据成本（即发布到以太坊的 ZK-Proof 和状态差异）。ZK-Sync 成功处理了超过 417.6m 笔交易，涉及 7.8m 个唯一地址，其生命周期内每笔交易的平均成本为$0.16。这种高效的运营导致了总利润为$15.7m。

  ![Cost to verify ZK-Proof on ETH](https://img.learnblockchain.cn/attachments/migrate/1723450806342)

## 估算发布数据到比特币的成本

比特币上 ZK-Rollup 的数据发布成本主要包括两个部分：ZK-Proof 输出和状态差异。虽然 Stark Proof 的大小无论批次中的交易数量如何都保持不变，但状态差异大小随着交易量和类型的变化而变化。因此，状态差异通常代表了 Rollup 数据发布成本的较大部分。鉴于 ZK-Rollup 团队对数据可用性要求的估计和期望的差异——这取决于交易类型和数量——我们选择使用通用的数据大小来说明发布到比特币 L1 的成本和相关的 L2 盈亏平衡点。值得注意的是，ZK-Proof 和状态差异大小的估计正在不断演变，因为团队在研究和优化数据压缩机制，因此这项练习是示范性的而不是确定性的。

在我们的模型中，我们假设 Rollup 的 ZK-Proof 和状态差异每 730 个发布区块（大约一个月）为 400KB。换句话说，我们预计 Rollup 将选择每小时左右（每 6-8 个区块）“结算”到比特币，即每月 730 个区块。如果比特币 L1 的交易费用为 10 聪/vByte，每个区块发布将花费$630。这相当于每月约$460k 的费用，或每年$5.5m，假设数据大小和费用率保持一致。然而，如果平均费用率上升到 50 聪/vByte，每月费用将飙升至$2.3m，相当于每年约$27.6m。我们的模型在一个月内为每个数据发布交易使用固定的 KB 大小，以强调在比特币 L1 上发布 ZK-Proof 和状态差异是昂贵的，无论 L2 用户在 Rollup 上支付的费用如何。

下面的敏感性表估算了比特币上 Rollup 在数据发布成本后实现盈亏平衡所需的交易活动和费用率水平。我们的模型预测了截至 2024 年 8 月 1 日，每 6 个区块向比特币 L1 发布固定 400KB 数据的 Rollup 在 10、20 和 50 聪/vByte 时的每月成本。在一个比特币 Rollup 每月处理 2000 万笔交易的情景下——与 ZK-Sync 过去一年的交易量相当——它需要收取$0.05、$0.09 和$0.23 的交易费用，才能在相应的 10、20 和 50 聪/vByte 水平上实现盈亏平衡。

需要注意的是，由于测试网上缺乏可用数据，这个敏感性表假设 400KB 的数据发布大小在每月 10k-20m 笔交易中是固定的。Alpen 团队的白皮书提供了基于发布批次中的交易数量的状态差异大小的估计，我们考虑了这些估计。他们的白皮书指出，每批次 10k 笔交易，如果 Rollup 每 6 个区块发布一次，每月大约 7.3m 笔交易，将是 670KB 每个发布批次。由于这些估计已经超过一年，我们的模型试图考虑压缩算法的进步和整体误差空间。我们理解，从每月 10k-2m 笔交易来看，状态差异的大小可能小于 400KB。  ![BTC DA - Rollup DA Cost](https://img.learnblockchain.cn/attachments/migrate/1723450806189)

无法通过交易费用覆盖数据发布成本的 Rollup 将需要动用其资金库来支付 L1 交易费用，并可能最终被迫完全放弃使用比特币作为 DA 层。如果 Rollup 发现向比特币发布数据不可行，他们可以选择在更具成本效益的 DA 层（如 Celestia、Near 或 Syscoin）上发布 ZK-Proofs 和状态差异。然而，使用比特币以外的东西作为 DA 层会降低该层称为“比特币 Rollup”的能力。如果一个 Layer 2 网络不汇总到比特币，它还会被认为是比特币 Rollup 吗，还是会转变为替代 DA 网络的 Validium 链？另一个解决 Rollup 成本覆盖问题的潜在方案是重组为 Layer 3 解决方案。在这种情况下，Rollup 将状态差异发布到现有的 Layer 2 或侧链上，仅将默克尔树根哈希发布到 Layer 1。这种方法可以显著降低数据发布成本，同时保持与比特币网络的连接。

## Rollup 启动时的比特币区块空间

自 2023 年初 Ordinals 和 BRC-20s 出现以来，比特币的每日平均区块权重一直保持在其 4m 权重单位限制（4MB 数据）以下。区块权重是一种无量纲的区块“大小”测量方法，在 SegWit 升级中引入，以包括折扣见证数据。随着大量铭文相关交易的涌入，平均每日区块权重显著增加，这些交易在交易的见证字段中包含任意数据（文本、图像等）。自 2023 年 2 月以来，比特币区块的平均满载度为 98%。

  ![block weight](https://img.learnblockchain.cn/attachments/migrate/1723450806284)

每个证明输出和状态差异总计 400k 权重单位，如果 Rollup 的数据大小保持一致，单个 Rollup 发布数据到一个区块将使用区块权重限制的 10%。鉴于区块始终满载，Rollup 的引入将改变每个数据发布区块内的交易数据组成。下图展示了截至 2024 年 7 月 18 日最近 30 个区块的组成情况，如果有两个 Rollup 上线并每 6 个区块发布一次数据。该图未考虑发布状态差异的 Rollup 数据大小低于或超过 400KB 的情况。请注意，该图仅考虑了两个 Rollup 发布数据——尽管有几个 Rollup 希望上线。

  ![Bitcoin Block consumption](https://img.learnblockchain.cn/attachments/migrate/1723450807529)

每 6-8 个区块发布数据的 Rollup 对区块空间的持续需求将迫使时间敏感的交易在数据发布区块之前或期间支付溢价。这将反过来增加所有比特币用户的费用，包括 Rollup。下图强调��� Runes 和 Ordinals 的链上活动竞争如何迫使时间敏感的交易（主要是金融交易，如交易对手之间的交易）支付最高的费用率溢价。“过度支付”是指特定交易类型在区块中的中位聪/vByte 与该区块的中位聪/vByte 水平之间的差异。下图汇总了每日的过度支付，显示了某一天中区块间过度支付差异的平均值。

  ![BTC DA - TX overpayment](https://img.learnblockchain.cn/attachments/migrate/1723450807549)

## 为什么比特币 DA 很重要

为了使 Rollup 完全与比特币对齐，许多人认为 Rollup 必须使用比特币进行数据可用性。虽然这种选择成本高昂，但它利用了比特币无与伦比的安全性、不可变性和去中心化。选择替代 DA 解决方案的 Rollup 引入了比特币网络之外的额外信任假设，可能会损害其完整性和作为“比特币 Rollup”的分类。比特币作为 DA 层的优势不仅在于其强大的安全性，还在于其广泛的节点分布和设置轻节点或全节点的低门槛。这种可访问性确保了任何运行比特币全节点的人都可以重建 Rollup 的最新 L2 状态，增强了透明度和去中心化。

尽管成本高昂且潜在的长期可行性挑战，比特币作为 Rollup 的精英 DA 层的角色突显了一个基本的权衡；利用比特币基础设施的高成本与其无与伦比的安全性和去中心化之间的平衡。这种成本与安全性的平衡可能会塑造未来比特币网络上 Rollup 实现的格局。虽然高成本可能不会迫使所有 Rollup 离开比特币，但它们可能会创造一个只有少数能够生存的环境。

## 使用比特币进行 DA 的 Rollup 前景

* 如果平均数据发布大小为 400KB，使用比特币进行数据可用性的 ZK-Rollup 将需要通过 L2 交易费用每月产生约 459k 至 2.3m 美元的收入才能在 10-50 聪/vByte 费用率环境中盈利。
    
* 费用估算引擎对于在比特币上运行的 Rollup 至关重要，以最大化盈利能力。
    
* 比特币区块空间根本无法容纳 4-8 个 Rollup 每 6-8 个区块发布 100KB-400KB 的证明，而不会导致所有用户（包括 Rollup）支付高昂的费用。
    
* 比特币 Rollup 可能会探索与比特币矿工的合作，以提供保证区块包含的私人交易流，从而锁定一些固定的、较低的交易费用率。
    
* 在比特币上构建主权 Rollup 的团队需要执行市场策略，确保用户在 L2 上进行交易。
    
* 如果没有足够的 Rollup 活动来证明发布到 BTC 的成本合理，项目可能会冒着烧钱仅仅为了发布数据的风险。
    
* 一些比特币 L2 将探索 L3 环境进行交易执行，并结合使用 L2 和比特币 L1 进行数据可用性。
    
* 在比特币上运行的 Rollup 将增加区块包含的竞争，从而推高所有用户（包括 Rollup）的 Layer 1 费用。
    
* 使用比特币 L1 进行 DA 的比特币 L2 将需要通过费用率衍生市场和带外采矿交易对抗意外的费用波动。
    



> 我是 [AI 翻译官](https://learnblockchain.cn/people/19584)，为大家转译优秀英文文章，如有翻译不通的地方，在[这里](https://github.com/lbc-team/Pioneer/blob/main/translations/9013.md)修改，还请包涵～